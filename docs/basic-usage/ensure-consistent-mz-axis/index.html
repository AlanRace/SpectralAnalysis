<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.67.0"><meta name=description content="SpectralAnalysis: software for the masses documentation"><meta name=author content="Alan Race"><link rel=icon href=../../images/favicon.png type=image/png><title>Ensure consistent m/z axis :: SpectralAnalysis: Software for the masses</title><link href=../../css/nucleus.css rel=stylesheet><link href=../../css/fontawesome-all.min.css rel=stylesheet><link href=../../css/hybrid.css rel=stylesheet><link href=../../css/featherlight.min.css rel=stylesheet><link href=../../css/perfect-scrollbar.min.css rel=stylesheet><link href=../../css/auto-complete.css rel=stylesheet><link href=../../css/atom-one-dark-reasonable.css rel=stylesheet><link href=../../css/theme.css rel=stylesheet><link href=../../css/hugo-theme.css rel=stylesheet><link href=../../css/theme-blue.css rel=stylesheet><script src=../../js/jquery-3.3.1.min.js></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style><link rel=stylesheet type=text/css href=css/definition.css></head><body data-url=/basic-usage/ensure-consistent-mz-axis/><nav id=sidebar><div id=header-wrapper><div id=header><a href=../../><object data=/images/spectral-analysis-full-white.svg type=image/svg+xml width=100%>
<img src=../../images/SpectralAnalysis-logo.png></object></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=../../js/lunr.min.js></script><script type=text/javascript src=../../js/auto-complete.js></script><script type=text/javascript>var baseurl="";</script><script type=text/javascript src=../../js/search.js></script></div><div class=highlightable><ul class=topics><li data-nav-id=/installation/ title=Installation class=dd-item><a href=../../installation/>Installation</a></li><li data-nav-id=/basic-usage/ title="General Use" class="dd-item
parent"><a href=../../basic-usage/>General Use</a><ul><li data-nav-id=/basic-usage/load-data/ title="Load data" class=dd-item><a href=../../basic-usage/load-data/>Load data</a><ul><li data-nav-id=/basic-usage/load-data/parser/ title=Parser class=dd-item><a href=../../basic-usage/load-data/parser/>Parser</a></li><li data-nav-id=/basic-usage/load-data/continuous-vs-profile/ title="Continuous vs Profile" class=dd-item><a href=../../basic-usage/load-data/continuous-vs-profile/>Continuous vs Profile</a></li><li data-nav-id=/basic-usage/load-data/data-representation/ title="Data Representation" class=dd-item><a href=../../basic-usage/load-data/data-representation/>Data Representation</a></li></ul></li><li data-nav-id=/basic-usage/visualisation/ title="Data visualisation" class=dd-item><a href=../../basic-usage/visualisation/>Data visualisation</a><ul><li data-nav-id=/basic-usage/visualisation/image-list/ title="Image List" class=dd-item><a href=../../basic-usage/visualisation/image-list/>Image List</a></li></ul></li><li data-nav-id=/basic-usage/region-of-interest/ title="Region of Interest" class=dd-item><a href=../../basic-usage/region-of-interest/>Region of Interest</a></li><li data-nav-id=/basic-usage/ensure-consistent-mz-axis/ title="Ensure consistent m/z axis" class="dd-item active"><a href=../../basic-usage/ensure-consistent-mz-axis/>Ensure consistent m/z axis</a></li><li data-nav-id=/basic-usage/preprocessing/ title="Spectral Preprocessing" class=dd-item><a href=../../basic-usage/preprocessing/>Spectral Preprocessing</a><ul><li data-nav-id=/basic-usage/preprocessing/normalisation/ title=Normalisation class=dd-item><a href=../../basic-usage/preprocessing/normalisation/>Normalisation</a></li></ul></li><li data-nav-id=/basic-usage/spectral-representation/ title="Spectral Representation" class=dd-item><a href=../../basic-usage/spectral-representation/>Spectral Representation</a></li><li data-nav-id=/basic-usage/data-reduction/ title="Data Reduction" class=dd-item><a href=../../basic-usage/data-reduction/>Data Reduction</a></li><li data-nav-id=/basic-usage/multivariate/ title="Multivariate analysis" class=dd-item><a href=../../basic-usage/multivariate/>Multivariate analysis</a></li><li data-nav-id=/basic-usage/clustering/ title=Clustering class=dd-item><a href=../../basic-usage/clustering/>Clustering</a></li></ul></li><li data-nav-id=/advanced-use/ title="Advanced Use" class=dd-item><a href=../../advanced-use/>Advanced Use</a><ul><li data-nav-id=/advanced-use/integration/ title="Integration with MATLAB" class=dd-item><a href=../../advanced-use/integration/>Integration with MATLAB</a></li><li data-nav-id=/advanced-use/extending/ title="Extending SpectralAnalysis" class=dd-item><a href=../../advanced-use/extending/>Extending SpectralAnalysis</a></li></ul></li><li data-nav-id=/tutorials/ title=Tutorials class=dd-item><a href=../../tutorials/>Tutorials</a></li></ul><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a>from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=../../>SpectralAnalysis</a> > <a href=../../basic-usage/>General Use</a> > Ensure consistent m/z axis</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#background>Background</a></li><li><a href=#applying-a-method-in-spectralanalysis>Applying a method in SpectralAnalysis</a></li><li><a href=#choosing-the-most-appropriate-method>Choosing the most appropriate method</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Ensure consistent m/z axis</h1><h3 id=background>Background</h3><p>A common method for reducing the size of the data without discarding information when saving mass spectrometry data is to only store data points where the intensity is greater than zero. This can result in the data points in any two spectra containing different <em>m/z</em> values (for example in one spectrum there may be a peak at 798.55 and therefore a corresponding data point, but in the next spectrum this peak was not detected and therefore this value is not present in the spectrum).</p><p>This method of storing spectra can cause issues for spectral visualisation, combining spectra (such as calculating an average, or generating a &lsquo;data cube&rsquo;) or performing preprocessing methods (such as smoothing or baseline correction).</p><ul><li>In the case of visualisation it is important that the zeros are replaced.</li><li>In the case of combining spectra it is important that the spectra are consistent (i.e. that each spectrum has intensity values for exactly the same <em>m/z</em> values).</li><li>In the case of preprocessing it is important that the <em>m/z</em> values are regularly distributed.</li></ul><h3 id=applying-a-method-in-spectralanalysis>Applying a method in SpectralAnalysis</h3><p><img src=../../images/2019-02-11-ZeroFilling.gif alt="Select a zero filling method"></p><ol><li><p>Select a spectrum by clicking on a pixel in the image.</p></li><li><p>Open <code>Preprocessing Workflow Editor</code> by selecting <code>Edit</code> button in <code>Spectral Preprocessing</code> panel.</p></li><li><p>Select most appropriate <code>Zero Filling</code> method (see <strong>Choosing the most appropriate method</strong> section below) and click the adjacent <code>+</code> button.</p></li><li><p>Enter desired parameters for the chosen method (if appropriate, and applicable), optionally checking the effect of the zero filling method by zooming into the spectrum and observing the &lsquo;before&rsquo; and &lsquo;after&rsquo; spectra.</p></li><li><p>Click <code>OK</code> to close the <code>Edit Preprocesing Method</code> window and then <code>OK</code> again to close the <code>Preprocessing Workflow Editor</code>. The chosen method(s) will now be automatically applied to any viewed spectrum.</p></li></ol><h3 id=choosing-the-most-appropriate-method>Choosing the most appropriate method</h3><p>The most appropriate method to use depends on the data and the desired next step in the processing workflow. The methods included in SpectralAnalysis are described below.</p><ul><li>Combine Bins</li><li>Fixed Point per Peak Interpolation Rebin</li><li>Interpolation PPM Rebin</li><li>Interpolation Rebin</li><li>Orbitrap</li><li>QSTAR</li><li>PPM Rebin</li><li>Rebin</li><li>Calibration</li><li>Synapt</li></ul><h5 id=rebin>Rebin</h5><p>Specify a <em>m/z</em> bin size, and a <em>m/z</em> range. The resulting <em>m/z</em> axis then spans the specified <em>m/z</em> range consisting of equally sized bins. All data points which fall within one of the bins are then added together to generate the resulting spectrum.</p><h5 id=ppm-rebin>PPM Rebin</h5><p>Specify a PPM bin size, and a <em>m/z</em> range. The resulting <em>m/z</em> axis then spans the specified <em>m/z</em> range consisting of bins of increasing size (each bin has a constant size in PPM, but as PPM is proportional to <em>m/z</em>, the bin size increases as <em>m/z</em> increases). All data points which fall within one of the bins are then added together to generate the resulting spectrum.</p><h5 id=interpolation-rebin>Interpolation Rebin</h5><p>Specify a <em>m/z</em> bin size, and a <em>m/z</em> range. The resulting <em>m/z</em> axis then spans the specified <em>m/z</em> range consisting of equally sized bins. All data points are then interpolated onto the new <em>m/z</em> axis (linear interpolation).</p><h5 id=interpolation-ppm-rebin>Interpolation PPM Rebin</h5><p>Specify a PPM bin size, and a <em>m/z</em> range. The resulting <em>m/z</em> axis then spans the specified <em>m/z</em> range consisting of bins of increasing size (each bin has a constant size in PPM, but as PPM is proportional to <em>m/z</em>, the bin size increases as <em>m/z</em> increases). All data points are then interpolated onto the new <em>m/z</em> axis (linear interpolation).</p><h5 id=heading></h5><h5 id=heading-1></h5><h4 id=heading-2></h4><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=../../basic-usage/region-of-interest/ title="Region of Interest"><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=../../basic-usage/preprocessing/ title="Spectral Preprocessing" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=../../js/clipboard.min.js></script><script src=../../js/perfect-scrollbar.min.js></script><script src=../../js/perfect-scrollbar.jquery.min.js></script><script src=../../js/jquery.sticky.js></script><script src=../../js/featherlight.min.js></script><script src=../../js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script><script src=../../js/modernizr.custom-3.6.0.js></script><script src=../../js/learn.js></script><script src=../../js/hugo-learn.js></script><link href=../../mermaid/mermaid.css rel=stylesheet><script src=../../mermaid/mermaid.js></script><script>mermaid.initialize({startOnLoad:true});</script></body></html>